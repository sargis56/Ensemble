<input type="text" id="searchQuery" placeholder="search" /> <button id="btn-search">Search</button>
<div id="results">

    <script>
        $("#btn-search").bind('click', function () {
           var searchQuery = $('#searchQuery').val();
            console.log(access_token);
            $.ajax({
                url: 'https://api.spotify.com/v1/search',
                headers: {
                    'Authorization': 'Bearer ' + access_token,
                    'Content-Type': 'application/json'
                },
                data: {
                    'q': searchQuery,
                    'type': 'track'
                }
            }).done(function (data) {
                console.log(data);
                $('#results').html('');

                $.each(data.tracks.items, function (index, track) {
                    var trackHtml =` <div class='track'>
                       
                        <span>`+ track.name +`</span>
                        <button onclick=AddSongToPlaylist("`+ track.id + `") >Add</button>
                    </div>`;

                     $('#results').append(trackHtml);


                });

            });
        });
        function AddSongToPlaylist(id){

            $.ajax({
                url: '/addSong',
                headers: {
                    'Content-Type': 'application/json'
                },
                data: {
                    'songID': id,
                    'roomID': '{{roomId}}',
                    'usertoken': '{{access_token}}'
                }
            }).done(function (data) {
                console.log(data);
            });

        }
    </script>